package test;

class Foo is Convertible[Number] {
	var value Number;
	method toThing() Number {
		return this.value;
	}

	static make(value Number) Foo {
		return new(value = value);
	}
}

interface Convertible[#To] {
	method toThing() #To;
}

class Shower[#From, #To | #From is Convertible[#To]] {
	static convert(from #From) #To {
		return from.toThing();
	}
}

class Test {
	static main() Unit {
		var foo Foo = Foo.make(7);

		var x Number = Shower[Foo, Number].convert(foo);
	}
}
